(function(a,b){a.smartfiltersTheme=function(d,c){var g=this;g.filters=d;g.o=a.extend({parentLabelSelector:"label",parentParamSelector:".filter-param,p"},c);g.$form=f();if(g.$form){i();h()}else{a.smartfiltersTheme.log("$.smartfiltersTheme fail: form not found")}function f(){var j=false;a.each(g.filters,function(l,k){if(!j||!j.length){j=a('[name^="'+l+'"]').closest("form");return false}});return j&&j.length?j:false}function i(){var k,n,j,m,l;a.each(g.filters,function(p,o){k=g.$form.find('input[name="'+p+'[]"]');if(k.length){if(o.disabled&&!a.isEmptyObject(o.disabled)){k.each(function(q,r){n=a(r);l=n.val();m=(o.disabled.hasOwnProperty(l)&&o.disabled[l])||!o.values.hasOwnProperty(l);n.prop("disabled",m);j=m?"add":"remove";n.closest(g.o.parentLabelSelector)[j+"Class"]("sf-label-disabled")});j=k.filter(":not(:disabled)").length?"remove":"add";k.closest(g.o.parentParamSelector)[j+"Class"]("sf-param-disabled")}else{k.prop("disabled",false);k.closest(g.o.parentLabelSelector).removeClass("sf-label-disabled");k.closest(g.o.parentParamSelector).removeClass("sf-param-disabled")}}else{}})}function h(){if(!a(b).data("smartfilters-event")){a(b).data("smartfilters-event",function(n,l,k){if(!/data-smartfilters-data/.test(l.responseText)){return}var j=a("<div>").html(l.responseText),m=j.find("[data-smartfilters-data]:first");if(m.length){m=m.text();m=a.parseJSON(m);g.filters=m;a.smartfiltersTheme(m,g.o)}})}a(b).unbind("ajaxSuccess",a(b).data("smartfilters-event"));a(b).bind("ajaxSuccess",a(b).data("smartfilters-event"))}function e(j){window.console&&console.log("$.smartfiltersTheme: "+j)}}})(jQuery,document);